# Getting Started

## What SHAR runs today

SHAR runs WASI preview1 modules through Wasmtime by default.

Optional flags can switch to WASI preview2 mode. Component Model execution is available behind `component = true` and is experimental.

## App directory layout

```text
app_dir/
  app.wasm
  app.toml
```

## Policy manifest (app.toml)

```toml
fs_read = ["/data", "/etc/hosts"]
fs_write = ["/tmp"]
env = ["API_TOKEN", "LOG_LEVEL"]
net_outbound = true
```

## Optional flags (app.toml)

```toml
wasi_preview2 = true
component = true
```

## Deny-by-default behavior

- File system access is denied unless a path is preopened via `fs_read` or `fs_write`.
- Environment variables are denied unless explicitly listed in `env`.
- Networking is disabled unless `net_outbound = true`.

## Run

```bash
shar run <app_dir>
```

Use `shar run <app_dir>` to execute the WASM in the directory.
